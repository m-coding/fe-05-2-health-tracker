<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Nutrition Tracker</title>
  <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="css/styles.min.css">
</head>
<body>
  <div class="container">
    <!-- App start -->
    <section id="start-screen" class="row">
        <div class="col-md-4 center-block">
        <h1>Nutrition</h1>
        <img src="images/list.png" alt="list">
        <h1>Tracker</h1>
        <button type="button" class="btn btn-success">Start App</button>
        </div>
    </section>

    <!-- App main -->
    <section id="app" class="row row-centered no-gutter">
      <!-- Column 1 -->
      <div class="col-md-4 col-centered eqHeights">
        <!-- Nav  tabs -->
        <ul id="app-tabs" class="nav nav-tabs">
          <li role="presentation" class="active"><a id="tab1" href="#search">Search</a></li>
          <li role="presentation"><a id="tab2" href="#tracker">Tracker</a></li>
        </ul>

        <!-- Tab panes -->
        <div class="tab-content">
          <!-- Search pane -->
          <div role="tabpanel" class="tab-pane active" id="search">
            <div id="search-top">
              <h3>Food Search</h3>
              <div class="alert alert-info" id="search-help-text">
                <button type="button" class="close" aria-label="Close"><span aria-hidden="true" class="glyphicon glyphicon-remove-circle"></span></button>
                <h4><i class="glyphicon glyphicon-question-sign"></i> Autocomplete</h4>
                <p>Select a suggestion to search.</p>
                <br>
                <p>Click outside the search box or press Esc to close the autocomplete drop menu.</p>
              </div>
              <form id="search-suggest" autocomplete="off"></form>
            </div>
            <div id="search-results"></div>
            <div id="recipe-top">
              <h3>Recipe Suggestions</h3>
              <span id="recipe-close" class="glyphicon glyphicon-remove-circle"></span>
            </div>
            <div id="recipe-results"></div>
          </div><!-- /#search -->

          <!-- Tracker pane -->
          <div role="tabpanel" class="tab-pane" id="tracker">
            <div id="tracker-top">
              <h3>Nutrition Tracker</h3>
              <h5>Todays Date</h5>
            </div>
            <div id="tracker-results">
              <p>No foods are being tracked.</p>
              <p>Do a search and add something!</p>
            </div>
          </div><!-- /#tracker -->
        </div><!-- /.tab-content -->
      </div><!-- /.col-md-4 -->


      <!-- Column 2 -->
      <div id="nutrition" class="col-md-4 col-centered vtop hideColumn eqHeights">
        <!-- Nutrition info -->
        <div id="nutrition-button-menu"></div>
        <div id="nutrition-results">
          <!-- Chart -->
          <figure id="gchart"></figure>
          <!-- Nutrition label -->
          <figure id="nlabel"></figure>
        </div><!-- /#nutrition-results -->
      </div><!-- /.col-md-4 -->
    </section>
</div><!-- /.container -->

  <!-- Templates -->
  <script type="text/x-handlebars-template" id="search-template">
  <div class="input-group">
    <input id="search-food" type="search" class="form-control" placeholder="What did you eat?">
    <span class="input-group-btn">
      <button class="btn btn-primary" type="button" id="search-help">
        <i class="glyphicon glyphicon-question-sign"></i>
      </button>
    </span>
  </div>
  <ul class="dropdown-menu"></ul>
  </script>

  <script type="text/x-handlebars-template" id="item-template">
    <h4 id="recipe-open">
      <span class="label label-info"><i class="glyphicon glyphicon-info-sign"></i> Recipe Suggestions</span>
    </h4>
    {{#each items}}
    <div class="item">
      <h4><a class="item-nutrition" href="{{id}}" data-item="{{id}}">{{name}}</a></h4>
      <h6>Cals: {{calories}} | Fat: {{fat}}g | Carbs: {{carbs}}g | Prot: {{protein}}g</h6>
      <h6>Serving: {{servingSize}} {{servingUnit}}</h6>
    </div>
    {{/each}}
    <footer class="logo">
      <a href="http://www.nutritionix.com/api" target="_blank"><img src="images/nutritionix.png" alt="Powered By Nutritionix"></a>
    </footer>
  </script>

  <script type="text/x-handlebars-template" id="recipe-template">
    {{#each recipes}}
    <div class="recipe-item">
      <h4>{{recipeTitle}}</h4>
      <div class="r-container">
        <div class="r-image">
          <img class="thumb" src="{{recipeImage}}" alt="{{recipeTitle}}">
        </div>
        <div class="r-text">
          <img class="icon" src="{{siteIcon}}" alt="{{siteTitle}}">
          <a href="{{siteLink}}" target="_blank">{{siteTitle}}</a>
          <h6>{{numCalories}} Calories Per Serving</h6>
          <h6>{{numIngredients}} Ingredients</h6>
        </div>
      </div>
    </div>
    {{/each}}
    <footer class="logo">
      <a href="https://developer.edamam.com" target="_blank"><img src="images/edamam.png" alt="Powered By Edamam"></a>
    </footer>
  </script>

  <script type="text/x-handlebars-template" id="buttons-template">
    <div class="buttons">
      {{#if tracking}}
        <p><button id="nutrition-track" type="button" class="btn btn-warning btn-xs btn-block">
        <i class="glyphicon glyphicon-ok-circle"></i> Tracking
        </button></p>
        <button id="nutrition-close" type="button" class="btn btn-primary btn-sm">
        <i class="glyphicon glyphicon-arrow-left"></i> Back
        </button>
        <button id="nutrition-add" type="button" class="btn btn-info btn-sm">
        <i class="glyphicon glyphicon-pencil"></i> Edit
        </button>
        <button id="nutrition-remove" type="button" class="btn btn-danger btn-sm">
        <i class="glyphicon glyphicon-remove"></i> Remove
        </button>
      {{else}}
        <p><button type="button" class="btn btn-default btn-xs btn-block" disabled>
        <i class="glyphicon glyphicon-ban-circle"></i> Not Tracking
        </button></p>
        <button id="nutrition-close" type="button" class="btn btn-primary btn-sm">
        <i class="glyphicon glyphicon-arrow-left"></i> Back
        </button>
        <button id="nutrition-add" type="button" class="btn btn-success btn-sm">
        <i class="glyphicon glyphicon-plus"></i> Add
        </button>
      {{/if}}
    </div>
  </script>

  <script type="text/x-handlebars-template" id="tracked-template">
    <table class="tracked-item">
      <tr>
        <th>Food</th>
        <th title="Calories">Cals</th>
        <th>Fat</th>
        <th title="Carbohydrates">Carbs</th>
        <th title="Protein">Prot</th>
        <th><i class="glyphicon glyphicon-remove"></i></th>
      </tr>
      {{#each models}}
      <tr class="tracked-row">
        <td class="tracked-attr tracked-name"><a class="tracked-edit" href="#edit" data-item="{{attributes.id}}" title="{{attributes.itemName}}">{{attributes.itemName}}</a></td>
        <td class="tracked-attr">{{attributes.valueCalories}}</td>
        <td class="tracked-attr">{{attributes.valueTotalFat}}</td>
        <td class="tracked-attr">{{attributes.valueTotalCarb}}</td>
        <td class="tracked-attr">{{attributes.valueProteins}}</td>
        <td class="tracked-attr"><i class="tracked-delete glyphicon glyphicon-remove" data-id="{{attributes.id}}" title="Delete"></i></td>
      </tr>
      {{/each}}
    </table>
  </script>

  <script type="text/x-handlebars-template" id="editor-template">
    <div id="editor-top">
      <h3>Food Summary</h3>
      <span id="foodClose" class="glyphicon glyphicon-remove-circle"></span>
    </div>
    <br>
    <form>
      <div class="input-group">
        <span class="input-group-addon">Track Date</span>
        <input type="text" class="form-control" id="foodTrackDate" value="{{trackDate}}">
      </div>
      <br>
      <div class="input-group">
        <span class="input-group-addon">Name</span>
        <input type="text" class="form-control" id="foodName" value="{{itemName}}">
      </div>
      <br>
      <div class="input-group">
        <span class="input-group-addon calories-addon">Calories</span>
        <input disabled type="text" class="form-control" id="foodCalories" value="{{valueCalories}}">
      </div>
      <br>
      <div class="input-group">
        <span class="input-group-addon fat-addon">Fat</span>
        <input disabled type="text" class="form-control" id="foodFat" value="{{valueTotalFat}}g">
      </div>
      <br>
      <div class="input-group">
        <span class="input-group-addon carbs-addon">Carbohydrates</span>
        <input disabled type="text" class="form-control" id="foodCarbs" value="{{valueTotalCarb}}g">
      </div>
      <br>
      <div class="input-group">
        <span class="input-group-addon protein-addon">Protein</span>
        <input disabled type="text" class="form-control" id="foodProtein" value="{{valueProteins}}g">
      </div>
      <br>
      <div class="input-group">
        <span class="input-group-addon serving-addon">Serving</span>
        <input disabled type="text" class="form-control" id="foodServingSize" value="{{valueServingSize}} {{valueServingSizeUnit}}">
      </div>
      <br>
      <button id="foodSave" type="submit" class="btn btn-default btn-block">Save Food</button>
    </form>
  </script>

  <!-- Scripts -->
  <script src="https://code.jquery.com/jquery-2.2.2.min.js"></script>
  <script src="https://www.gstatic.com/charts/loader.js"></script>
  <script src="js/lib/lib.min.js"></script>
  <script src="js/nutritionTracker.min.js"></script>
</body>
</html>